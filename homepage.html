
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap"
      rel="stylesheet"/>
  <link rel="stylesheet" href="./style.css" />
  <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
  <title>CAVITE CONSTRUCTION COMPANY BUSINESS</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
<main>
<section class="glass">
        <div class="sidebar">
            <div class="top">
                <a href="homepage.html">HOME</a>
                <a href="index.html"><img src="logo.png"></a>
            </div>
            <div class="links">
                <div class="place">
                          
                          <button class="distBttns" id="firstDistBttn">First District</button>
                          <div id="firstDistDiv" class="distDivs">
                              <div class="adiv"><a id="cavitecity" class="a"href=# >Cavite City</a></div>
                              <div class="adiv"><a id="kawit" class="a"href=# >Kawit</a></div>
                              <div class="adiv"><a id="noveleta" class="a"href=# >Noveleta</a></div>
                              <div class="adiv"><a id="rosario" class="a"href=# >Rosario</a></div>
                          </div>

                        <button class="distBttns" id="secDistBttn">Second District</button>
                          <div id="secDistDiv" class="distDivs">
                              <div class="adiv"><a id="bacoor" class="a"href=# >Bacoor</a></div>
                          </div>
                        <button class="distBttns" id="thirdDistBttn">Third District</button>
                          <div id="thirdDistDiv" class="distDivs">
                              <div class="adiv"><a id="imus" class="a"href=# >Imus</a></div>
                          </div>

                        <button class="distBttns" id="fourthDistBttn">Fourth District</button>
                          <div id="fourthDistDiv" class="distDivs">
                              <div class="adiv"><a id="dasma" class="a"href=# >Dasmarinas</a></div>
                          </div>

                        <button class="distBttns" id="fifthDistBttn">Fifth District</button>
                          <div id="fifthDistDiv" class="distDivs">
                              <div class="adiv"><a id="carmona" class="a"href=# >Carmona</a></div>
                              <div class="adiv"><a id="silang" class="a"href=# >Silang</a></div>
                              <div class="adiv"><a id="gma" class="a"href=# >General Mariano Alvarez</a></div>
                          </div>

                        <button class="distBttns" id="sixthDistBttn">Sixth District</button>
                          <div id="sixthDistDiv" class="distDivs">
                              <div class="adiv"><a id="gentri" class="a"href=# >General Trias</a></div>
                          </div>

                        <button class="distBttns" id="sevDistBttn">Seventh District</button>
                          <div id="sevDistDiv" class="distDivs">
                              <div class="adiv"><a id="amadeo" class="a"href=# >Amadeo</a></div>
                              <div class="adiv"><a id="indang" class="a"href=# >Indang</a></div>
                              <div class="adiv"><a id="tanza" class="a"href=# >Tanza</a></div>
                              <div class="adiv"><a id="trece" class="a"href=# >Trece Martires</a></div>
                          </div>

                        <button class="distBttns" id="eightDistBttn">Eight District</button>
                          <div id="eightDistDiv" class="distDivs">
                              <div class="adiv"><a id="tagaytay" class="a"href=# >Tagaytay</a></div>
                              <div class="adiv"><a id="alfonso" class="a"href=# >Alfonso</a></div>
                              <div class="adiv"><a id="gea" class="a"href=# >General Emilio Aguinaldo</a></div>
                              <div class="adiv"><a id="magallanes" class="a"href=# >Magallanes</a></div>                     
                              <div class="adiv"><a id="mendez" class="a"href=# >Mendez</a></div>
                              <div class="adiv"><a id="naic" class="a"href=# >Naic</a></div>
                          </div>

    
                </div>
            </div>
        </div>
        <div class="content">
            <div>
              <div id="info"><h1 id="h1Head">CAVITE CONSTRUCTION COMPANY BUSINESS</h1></div>
              <div id="numpageDiv"></div>
            </div>
           
        </div>
        
  </section>
</main>
<div class="box1"></div>
<div class="box2"></div>
  
  <script>
  
  $(document).ready(function(){
    arr=["./FirstDistrict/cavitecityCompanies.json","./FirstDistrict/kawitCompanies.json","./FirstDistrict/noveletaCompanies.json", "./FirstDistrict/rosarioCompanies.json","./SecondDistrict/bacoorCompanies.json","./ThirdDistrict/imusCompanies.json","./FourthDistrict/dasmaCompanies.json","./FifthDistrict/carmonaCompanies.json","./FifthDistrict/silangCompanies.json","./FifthDistrict/gmaCompanies.json","./SixDistrict/gentriCompanies.json",
    "./SevenDistrict/amadeoCompanies.json","./SevenDistrict/indangCompanies.json","./SevenDistrict/tanzaCompanies.json","./SevenDistrict/treceCompanies.json","./EightDistrict/tagaytayCompanies.json",
    "./EightDistrict/alfonsoCompanies.json","./EightDistrict/geaCompanies.json","./EightDistrict/magallanesCompanies.json","./EightDistrict/mendezCompanies.json","./EightDistrict/naicCompanies.json"]

    $("#firstDistBttn").click(function(){
      $("#firstDistDiv").toggle()
    })
    
    $("#secDistBttn").click(function(){
      $("#secDistDiv").toggle()
    })

    $("#thirdDistBttn").click(function(){
      $("#thirdDistDiv").toggle()
    })

    $("#fourthDistBttn").click(function(){
      $("#fourthDistDiv").toggle()
    })

    $("#fifthDistBttn").click(function(){
      $("#fifthDistDiv").toggle()
    })

    $("#sixthDistBttn").click(function(){
      $("#sixthDistDiv").toggle()
    })

    $("#sevDistBttn").click(function(){
      $("#sevDistDiv").toggle()
    })

    $("#eightDistBttn").click(function(){
      $("#eightDistDiv").toggle()
    })



    
        $('.place').find('a').each(function(index){
         
            $(this).click(index,function goBack(currPage){
              activePage=currPage;
              $('#parentDiv').remove();
              $("#divDescInfos").remove()
              $("#numpageDiv").empty()
              lngth=0;
              resdata={};

               // console.log(index)
                $.getJSON(arr[index], function(data){
                      resdata=data;
                    
                      lngth=Object.keys(resdata).length;
                      //create parent div
                      var parentDiv=document.createElement("div")
                      parentDiv.setAttribute("id","parentDiv")

                      for(i=0;i<lngth;i++){
                      //div for each element of selected json file
                      var divList=document.createElement("div");
                      var pList=document.createElement("a");
                      var aList=document.createElement("p")
                      divList.setAttribute("id",i)
                      divList.setAttribute("class", "compNameDiv")
                      pList.setAttribute("id",i)
                      pList.setAttribute("class","compNameList")
                      pList.setAttribute("href","#")
                      aList.setAttribute("class","compAddressList")
                      pList.append(Object.values(resdata)[i].name);
                      aList.append(Object.values(resdata)[i].address)
                      //appending the elements to a div
                      divList.append(pList);
                      divList.append(aList);
                      //appending the div to parent div
                      parentDiv.append(divList);    
                    }
                    


                    //generating pages for pagination
                    
                    console.log(lngth)

                    //changing the content of info div to the company name lists
                    $('#info').empty()
                    h1=document.createElement("h1")
                    h1.append("Company Name List")
                    $('#info').append(h1);
                    $('#info').append(parentDiv);

                  //genereating pages
                    maxPage=Math.ceil(lngth/5)
                    for(i=1;i<=maxPage;i++){
                      $("#numpageDiv").append("<button class='bttnPages'>"+i+"</button>")
                    }
                    
                    $("#numpageDiv").find(".bttnPages").each(function(index2){

                      bttn=$("#numpageDiv").find(".bttnPages")
        
                      
                    
                      $("#parentDiv .compNameDiv").slice(5).hide()

                        function resumePage(clickedPage){
                          activePage=clickedPage
                          if(clickedPage==0){
                          //$("#parentDiv .compNameDiv:gt(4)").hide()
                          $("#parentDiv .compNameDiv").show()
                          $("#parentDiv .compNameDiv").slice(5).hide()
                          //activePage=clickedPage
                          }
                          else if(clickedPage>0){
                            
                          end1=clickedPage*5
                          start2=end1+5
                           
                            $("#parentDiv .compNameDiv").show()
                            $("#parentDiv .compNameDiv").slice(0,end1).hide()
                            $("#parentDiv .compNameDiv").slice(start2,lngth).hide()                       
                          }                          
                        }

                        if(activePage>=0){
                          resumePage(activePage)
                          $(bttn[activePage]).addClass("activePage")
                          
                        }
                        else{
                          $(bttn[0]).addClass("activePage")
                        }
                      

                      $(this).click(function(){
                         $(".bttnPages").removeClass("activePage");
                          resumePage(index2)
                          console.log('The active page on user click is ' + index2)
                          $(this).addClass("activePage")

                        })
                    })

                    

                    //div for displaying company infos onclick                  
                    $("#parentDiv").find("div").each(function(){
                        //new div for full company info
                        var divDescInfos=null;
                        $(this).find("a").click(function(){
                            //remove this divs if already shown
                            $('#info h1').empty()
                            $('#info h1').append("Company Name")

                            $("#divDescInfos").remove()
                            $("#parentDiv").empty()
                            $("#numpageDiv").empty()
                          
                            //initializing the div for new contents
                            divDescInfos=document.createElement("div")
                            divDescInfos.setAttribute("id" ,"divDescInfos")
                            //console.log(this.id);

                            //showing the php template for full company info
                            $("#compInfoTemplateDiv").show()
                            //$("#compInfoTemplateDiv").empty()
                            cNameDiv=document.createElement("div",)
                            cAddDiv=document.createElement("div")
                            cPhoneDiv=document.createElement("div")
                            cEmailDiv=document.createElement("div")
                            cAchieveDiv=document.createElement("div")
                            cDescDiv=document.createElement("div")
                            cWebDiv=document.createElement("div")

                            cNameDiv.setAttribute("id","cNameDiv")
                            cAddDiv.setAttribute("id","cAddDiv")
                            cPhoneDiv.setAttribute("id","cPhoneDiv")
                            cEmailDiv.setAttribute("id","cEmailDiv")
                            cAchieveDiv.setAttribute("id","cAchieveDiv")
                            cDescDiv.setAttribute("id","cDescDiv")
                            cWebDiv.setAttribute("id","cWebDiv")
                            
                            cNameDiv.append(resdata[this.id].name)
                            cAddDiv.append(resdata[this.id].address)
                            //cPhoneDiv.append(resdata[this.id].contact)
                            //cEmailDiv.append(resdata[this.id].email)

                           
                            //cAchieveDiv.append(resdata[this.id].achievements)
                            cDescDiv.append(resdata[this.id].desc)

                            //cWebDiv.append(resdata[this.id].website)

                           
                            //back button
                            back=document.createElement("button")
                            back.setAttribute("id","back_bttn")
                            back.append("Go back")

                            divDescInfos.append(cNameDiv)
                            divDescInfos.append(cAddDiv)
                            
                            $.each(resdata[this.id].contact,function(index, value){
                                cPhoneList=document.createElement("div")
                                cPhoneList.append(value)
                                cPhoneDiv.append(cPhoneList)
                                divDescInfos.append(cPhoneDiv)
                            })
                            //divDescInfos.append(cPhoneDiv)
                            //divDescInfos.append(cPhoneDiv)
                            //divDescInfos.append(cEmailDiv)
                            $.each(resdata[this.id].email,function(index, value){
                              cEmailList=document.createElement("div")
                              cEmailList.append(value)
                              cEmailDiv.append(cEmailList)
                              divDescInfos.append(cEmailDiv)
                              
                            })
                            //divDescInfos.append(cWebDiv)
                            $.each(resdata[this.id].website,function(index, value){
                              cWebList=document.createElement("div")
                              cWebA=document.createElement("a")
                              cWebA.setAttribute("href",value)
                              cWebA.setAttribute("target","blank")
                              cWebA.append(value)
                              cWebList.append(cWebA)
                              cWebDiv.append(cWebList)
                              divDescInfos.append(cWebDiv)
                              
                            })

                            divDescInfos.append(cDescDiv)

                            $.each(resdata[this.id].achievements,function(index, value){
                              cAchieveList=document.createElement("div")
                              cAchieveList.append(value)
                              cAchieveDiv.append(cAchieveList)
                              divDescInfos.append(cAchieveDiv)
                              
                            })
                            divDescInfos.append(back)

                            $("#parentDiv").append(divDescInfos)
                            $("#back_bttn").click(function(){
                              console.log("The active page on goBack is "+activePage)
                                goBack(activePage);
                                //activePage=undefined
                              })
                                    
                  })
                }) 
                      
            })


              //generating pages for lists
              
             //console.log(lngth)
                
        })

        

        })
      
        
            

})
       
  </script>
</body>

</html>






